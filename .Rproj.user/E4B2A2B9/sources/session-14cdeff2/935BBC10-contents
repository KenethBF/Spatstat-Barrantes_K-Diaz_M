
carapa <- read.csv("Datos/Mapeamento_parcelas_corregido.csv", header = T, sep = ";", stringsAsFactors = TRUE)	
head(carapa)

carapa$Parc <- as.factor(carapa$Parc)
carapa$Sub.P <- as.factor(carapa$Sub.P)
carapa$Prod. <- as.logical(carapa$Prod.)

str(carapa)
summary(carapa)


library(spatstat)

x = redwood # libreria de r
plot(x) # graficar libreria
d = density(x) # densidad de nube de puntos en rectangulo
plot(d) # grafico de calor-densidad

d = density(x, 0.1) # segundo argumento es resolucion de densidad: sigma
plot(d)

Y= shapley
plot(density(Y, 0.01))

plot(carapa$y+carapa$x)
plot(carapa$y+carapa$x_rev)

X <- ppp(carapa$x_rev, carapa$y, window = owin(c(0,400), c(0,400))) # dar formato de datos a coordenadas
DD = density(X)
plot(X)         
plot(DD)
library(ggplot2)
p <- ggplot(carapa, aes(x_rev, y)) +
  geom_point() +
  facet_wrap(carapa$Parc)

ggplot(carapa, aes(x_rev, y)) + 
  geom_contour(aes(z = density)) + 
  facet_wrap(carapa$Parc)
  

jp <- ggplot(carapa, aes(x_rev, y)) +
  geom_raster(aes(fill = density)) +
  facet_wrap(carapa$Parc)
